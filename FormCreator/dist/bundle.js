!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1);document.addEventListener("DOMContentLoaded",()=>new l);class l{constructor(){var e;let t=new n.Form("Studia");t.render(),null===(e=document.getElementById("Test"))||void 0===e||e.addEventListener("click",()=>{t.Test()})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2),l=i(3),s=i(4),r=i(5),a=i(6),o=i(7);t.Form=class{constructor(e){this.outputTable=document.getElementById("Output_Table"),this.outputDiv=document.getElementById("Output"),this.sendButton=document.getElementById("Send"),this.saveButton=document.getElementById("Save"),this._storage=[],this.id=e,this.fields=new Array,this.formValues=new Array,this.formElement=document.getElementById(e),this.sendButton.addEventListener("click",()=>{this.getValue(),this.createTable()}),this.saveButton.addEventListener("click",()=>{this.insertEditedDataToTable(this.focusedRow)}),this.fields.push(new l.InputField("Imię","Imię",n.FieldType.textBox)),this.fields.push(new l.InputField("Nazwisko","Nazwisko",n.FieldType.textBox)),this.fields.push(new s.EmailField("EMail","E-Mail",n.FieldType.Email)),this.fields.push(new r.SelectField("Kierunek","Wybrany kierunek studiów",n.FieldType.Select,["IT","Rachunkowość","Zarządzanie"])),this.fields.push(new a.CheckboxField("Elearning","Czy preferujesz e-learning",n.FieldType.Check)),this.fields.push(new o.TextAreaField("Uwagi","Uwagi",n.FieldType.TextArea)),this.loadTable()}render(){var e;const t=document.createElement("p");t.setAttribute("id","headerForm"),t.appendChild(document.createTextNode(this.id)),null===(e=this.formElement.parentNode)||void 0===e||e.insertBefore(t,this.formElement),this.fields.forEach(e=>{if("checkbox"==e.render().getAttribute("type")){let t=document.createElement("p");t.append(e.label),t.append(e.render()),this.formElement.appendChild(t)}else this.formElement.appendChild(e.render()),this.formElement.appendChild(document.createElement("br"))})}getValue(){this.fields.forEach(e=>{this.formValues.push(e.getValue())})}createTable(e){var t;let i=e||{row_id:"id_"+(new Date).getTime()};this.outputTable.style.display="inline-table",this.outputDiv.style.opacity="1";const n=document.createElement("tr");this.outputTable.appendChild(n);for(let e=0;e<this.formValues.length;e++){const t=document.createElement("th");t.append(this.formValues[e]),n.appendChild(t)}n.id=null==e?i.row_id:e;const l=document.createElement("th"),s=document.createElement("button"),r=document.createElement("button");s.setAttribute("id","Edit"),r.setAttribute("id","del"),l.appendChild(s),l.appendChild(r),n.appendChild(l),null===(t=document.getElementById("reset"))||void 0===t||t.click(),r.addEventListener("click",()=>{this.deleteDataFromRow(n)}),s.addEventListener("click",()=>{this.insertDataToForm(n)}),null==e&&(this._storage.push(JSON.stringify(n.id)),this._storage.push(JSON.stringify(this.formValues))),localStorage.setItem(this.id,JSON.stringify(this._storage)),this.formValues.length=0}deleteDataFromRow(e){let t=JSON.parse(localStorage.getItem(this.id)||"");for(let i=0;i<t.length;i++)JSON.parse(t[i])==e.id&&t.splice(i,2);localStorage.setItem(this.id,JSON.stringify(t)),this.outputTable.removeChild(e)}insertDataToForm(e){this.focusedRow=e,this.formElement.scrollIntoView(!0),e.style.backgroundColor="skyblue",this.sendButton.style.display="none",this.saveButton.style.display="inline";for(let t in this.fields){let i=document.getElementById(this.fields[t].name);"checkbox"==this.fields[t].type?"Tak"==e.children[t].innerHTML?i.checked=!0:i.checked=!1:i.value=e.children[t].innerHTML}}insertEditedDataToTable(e){var t;e.style.backgroundColor="white",this.sendButton.style.display="block",this.saveButton.style.display="none",this.getValue();for(let t in this.formValues)e.children[t].textContent=this.formValues[t];let i=JSON.parse(localStorage.getItem(this.id)||"");for(let t=0;t<i.length;t++)JSON.parse(i[t])==e.id&&(i[t+1]=JSON.stringify(this.formValues));localStorage.setItem(this.id,JSON.stringify(i)),null===(t=document.getElementById("reset"))||void 0===t||t.click(),e.scrollIntoView(!0)}Test(){const e=["IT","Rachunkowość","Zarządzanie"];let t=1e4;for(;0!=t--;){let t=[];for(let e in this.fields)t.push(document.getElementById(this.fields[e].name));let i=Math.round(Math.random());t[0].value=Math.random().toString(36).substring(7),t[1].value=Math.random().toString(36).substring(7),t[2].value=Math.random().toString(36).substring(3),t[3].value=e[Math.ceil(2*Math.random())],t[4].value=t[4].checked=1==i,t[5].value=Math.random().toString(36).substring(1),this.sendButton.click()}}loadTable(){if(0!=localStorage.length){let e=JSON.parse(localStorage.getItem(this.id)||""),t="";for(let i=0;i<e.length;i++)i%2==0==1?t=JSON.parse(e[i]):(this.formValues=JSON.parse(e[i]),this._storage.push(JSON.stringify(t)),this._storage.push(JSON.stringify(this.formValues)),this.createTable(t))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.textBox="text",e.Check="checkbox",e.Email="email",e.Select="select",e.TextArea="textarea"}(t.FieldType||(t.FieldType={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InputField=class{constructor(e,t,i){this.element=document.createElement("input"),this.name=e,this.label=t,this.type=i,this.element.name=this.name,this.element.id=this.name,this.element.type=this.type,this.element.placeholder=this.label}render(){return this.element}getValue(){return this.element.value}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmailField=class{constructor(e,t,i){this.element=document.createElement("input"),this.name=e,this.label=t,this.type=i,this.element.name=this.name,this.element.id=this.name,this.element.type=this.type,this.element.placeholder=this.label}render(){return this.element}getValue(){return this.element.value}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelectField=class{constructor(e,t,i,n){this.element=document.createElement("select"),this.name=e,this.label=t,this.type=i,this.element.name=this.name,this.element.id=this.name,this.element.setAttribute("type",this.type);const l=document.createElement("option");l.setAttribute("hidden","hidden");let s=document.createTextNode(t);l.appendChild(s),this.element.appendChild(l),n.forEach(e=>{const t=document.createElement("option");let i=document.createTextNode(e);t.appendChild(i),this.element.appendChild(t)})}render(){return this.element}getValue(){return this.element.value}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CheckboxField=class{constructor(e,t,i){this.element=document.createElement("input"),this.name=e,this.label=t,this.element.name=this.name,this.type=i,this.element.id=this.name,this.element.type=this.type}render(){return this.element}getValue(){return 1==this.element.checked?this.element.value="Tak":this.element.value="Nie",this.element.value}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TextAreaField=class{constructor(e,t,i){this.element=document.createElement("textarea"),this.name=e,this.label=t,this.type=i,this.element.name=this.name,this.element.id=this.name,this.element.placeholder=this.label,this.element.setAttribute("type",this.type)}render(){return this.element}getValue(){return this.element.value}}}]);